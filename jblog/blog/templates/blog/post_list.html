{% extends 'blog/base.html' %}
{% block content %}
<!--博客列表-->
<div class="centerstage">
    {% for post in post_list %}
    <div class="post">
        <h1><a href="{% url 'post_detail' pk=post.pk %}">{{ post.title }}</a></h1>
        <div class="date">
            <p>发布于: {{post.published_date|date:'Y年m月d日'}}</p>
        </div>
        <a href="{% url 'post_detail' pk=post.pk %}">评论：{{ post.approve_comments.count }}</a>
    </div>
    {% endfor%}
</div>

<!--博客分页-->
{% if is_paginated %}
<div class="pagination-simple">
  <!-- 如果当前页还有上一页，显示一个上一页的按钮 -->
  {% if page_obj.has_previous %}
    <a href="?page={{ page_obj.previous_page_number }}">上一页</a>
  {% endif %}
  <!-- 显示当前页面信息 -->
  <span class="current">第 {{ page_obj.number }} 页 / 共 {{ paginator.num_pages }} 页</span>
  <!-- 如果当前页还有下一页，显示一个下一页的按钮 -->
  {% if page_obj.has_next %}
    <a href="?page={{ page_obj.next_page_number }}">下一页</a>
  {% endif %}
</div>
{% endif %}


{% endblock %}