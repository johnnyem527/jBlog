{% extends 'blog/base.html' %}
{% block content %}

    <!--Carousel Section-->
    {% include 'component/common/home_carousel.html' %}

    <!--Post List-->
    <div class="centerstage">
        {% for post in post_list %}
        <div class="post">
            <h1><a href="{% url 'post_detail' pk=post.pk %}">{{ post.title }}</a></h1>
            <div class="date">
                <p>发布于: {{post.published_date|date:'Y年m月d日'}}</p>
            </div>
            <a href="{% url 'post_detail' pk=post.pk %}">评论：{{ post.approve_comments.count }}</a>
        </div>
        {% endfor%}
    </div>

    <!--博客分页-->
    {% if is_paginated %}
    <div class="pagination-simple">
      <!-- 如果当前页还有上一页，显示一个上一页的按钮 -->
      {% if page_obj.has_previous %}
        <a href="?page={{ page_obj.previous_page_number }}">上一页</a>
      {% endif %}
      <!-- 显示当前页面信息 -->
      <span class="current">第 {{ page_obj.number }} 页 / 共 {{ paginator.num_pages }} 页</span>
      <!-- 如果当前页还有下一页，显示一个下一页的按钮 -->
      {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">下一页</a>
      {% endif %}
    </div>
    {% endif %}


    <!-- Content Structure -->
    <section>
        <div class="container mt-5 pt-5">
            <div class="row pt-3">
                <!--Main listing-->
                <div class="col-lg-9 col-12 mt-1">
                    {% include 'component/blog_post/post_list_single.html' %}
                </div>

                <!--Post List Sidebar-->
                <div class="col-lg-3 col-12 px-4 mt-1 mb-5 blue-grey lighten-5">
                    {% include 'component/blog_post/post_list_sidebar.html' %}
                </div>
            </div>
        </div>
    </section>

{% endblock %}

































